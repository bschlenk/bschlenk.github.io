(function() {var g="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function l(){l=function(){};k.Symbol||(k.Symbol=m)}var n=0;function m(a){return"jscomp_symbol_"+(a||"")+n++}
function p(){l();var a=k.Symbol.iterator;a||(a=k.Symbol.iterator=k.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&g(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return t(this)}});p=function(){}}function t(a){var b=0;return u(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function u(a){p();a={next:a};a[k.Symbol.iterator]=function(){return this};return a}function v(a){p();l();p();var b=a[Symbol.iterator];return b?b.call(a):t(a)}
function w(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}function x(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
function y(a,b){if(b){for(var c=k,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&g(c,d,{configurable:!0,writable:!0,value:f})}}y("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=x(this,a,"startsWith");a+="";for(var e=b.length,f=a.length,h=Math.max(0,Math.min(c|0,b.length)),q=0;q<f&&h<e;)if(b[h++]!=a[q++])return!1;return q>=f}});
y("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==x(this,a,"includes").indexOf(a,c||0)}});y("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});
y("Object.assign",function(a){return a?a:function(a,c){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(a[f]=e[f])}return a}});function z(a,b){this.f=a;this.g=b}function A(a){var b=B;return 1E-6>=Math.abs(a.f-b.f)&&1E-6>=Math.abs(a.g-b.g)}function C(a,b){return new z(a.f*b,a.g*b)}function D(a,b){return new z(a.f+b.f,a.g+b.g)}function E(a){return Math.sqrt(Math.pow(a.f,2)+Math.pow(a.g,2))}
function F(a,b){return A(a)?a:C(C(a,1/E(a)),Math.max(0,Math.min(b,E(a))))}z.prototype.toString=function(){return"("+this.f.toFixed(6)+", "+this.g.toFixed(6)+")"};var B=new z(0,0);function G(a,b){this.v=Math.min(a.f,b.f);this.w=Math.min(a.g,b.g);this.m=Math.max(a.f,b.f);this.o=Math.max(a.g,b.g)};function H(a,b){this.b=a;this.value=b}function I(a){H.apply(this,arguments)}w(I,H);I.prototype.a=function(a){return a};function J(a){H.apply(this,arguments)}w(J,H);J.prototype.a=function(a){return parseInt(a,10)};function K(a){H.apply(this,arguments)}w(K,H);K.prototype.a=function(a){return parseFloat(a)};function L(a){H.apply(this,arguments)}w(L,H);L.prototype.a=function(a){return!!{"true":!0,yes:!0,y:!0,1:!0,"false":!1,no:!1,n:!1,0:!1}[a]};var aa={D:"square",B:"circle",C:"random"},M=function(a){function b(a,b){return d[a](b)}var c={},d={};a=v(a);for(var e=a.next();!e.done;e=a.next())e=e.value,c[e.b]=e.value,d[e.b]=e.a;return{j:c,A:b,F:function(a,d){c[a]=b(a,d)}}}([new I("STAR_COLOR","random"),new I("STAR_SHAPE","square"),new K("STAR_OPACITY",.6),new I("BACKGROUND_COLOR","#000"),new J("MAX_ACCELERATION",800),new J("MIN_ACCELERATION",600),new J("MIN_VELOCITY",500),new J("MAX_VELOCITY",1E3),new J("SPAWN_INTERVAL",100),new J("STAR_SIZE",
1),new K("LIFESPAN",5),new J("EXPANSION_RATE",10),new J("MAX_STAR_COUNT",500),new L("TOGGLE_ON_FOCUS_BLUR",!0)]),N=M.j,ba=M.A;
function ca(){var a,b=this;this.a=document.createElement("div");this.a.style.display="none";this.a.style.position="fixed";this.a.style.top="10px";this.a.style.left="10px";this.a.style.opacity="0.8";this.a.style.zIndex="10";this.a.style.backgroundColor="#CCC";a=a||document.body;a.appendChild(this.a);a=document.createElement("table");this.a.appendChild(a);var c=document.createElement("button");this.a.appendChild(c);c.innerHTML="Close";c.onclick=function(){b.a.style.display="none"};for(var c=v(Object.entries(N)),
d=c.next();!d.done;d=c.next()){var e=v(d.value),d=e.next().value,e=e.next().value,f=document.createElement("tr"),h=document.createElement("td");h.style.textAlign="right";var q=document.createElement("td");q.style.textAlign="left";var r=document.createElement("label");r.innerHTML=d;h.appendChild(r);r=document.createElement("input");r.onchange=function(a){return function(b){N[a]=ba(a,b.currentTarget.value)}}(d);r.setAttribute("type","text");r.value=e;q.appendChild(r);f.appendChild(h);f.appendChild(q);
a.appendChild(f)}};var O=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return(new Date).getTime()};function da(){if("random"===N.STAR_COLOR)return"#"+(16777215*Math.random()<<0).toString(16);var a=N.STAR_COLOR;return a.includes(",")?(a=a.split(","),a[Math.floor(Math.random()*a.length)]):a};var ea=0;function P(a,b,c,d){this.color=c;this.a=a;this.i=b;this.h=d||B;this.size=parseInt(N.STAR_SIZE,10);ea++;this.shape=fa();this.creationTime=O();this.b=0;this.c=!0}function fa(){if("random"===N.STAR_SHAPE){var a=Object.values(aa).filter(function(a){return"random"!==a});return a[Math.floor(Math.random()*a.length)]}return N.STAR_SHAPE}P.prototype.toString=function(){return"<Star "+this.a+">"};function Q(){this.a=document.createElement("table");this.j={}}Q.prototype.set=function(a,b){if(a in this.j)this.j[a].display.innerHTML=b;else{var c=document.createElement("tr"),d=document.createElement("td"),e=document.createElement("td"),f=document.createElement("label");f.innerHTML=a;d.appendChild(f);var h=document.createElement("span");h.innerHTML=b;e.appendChild(h);c.appendChild(d);c.appendChild(e);this.a.appendChild(c);this.j[a]={value:b,label:f,display:h}}};var R=new Q,S=R.set.bind(R);function ga(){this.a=[[],[]];this.b=this.size=0}function T(a,b){a.a.forEach(function(a){a.forEach(b)})}function ha(a){a.a=a.a.slice(1);a.a.push([])}
function ia(a,b){var c=U;a.b+=c/1E3;var d=N.LIFESPAN;a.b>=d&&(ha(a),a.b-=d);T(a,function(e){var f=c/1E3;e.h=F(D(e.h,C(e.i,f)),N.MAX_VELOCITY);e.a=D(e.a,C(e.h,f));e.size+=f*N.EXPANSION_RATE;e.b+=f;if(f=e.c)var f=e.size/2,f=D(e.a,new z(-f,-f)),h=e.size,f=new G(f,D(f,new z(h,h))),f=!!(b.v>f.m||f.v>b.m||b.w>f.o||f.w>b.o)||e.b>=d;f&&(e.c=!1,--a.size)});S("STAR_COUNT",a.size)};function V(a,b){this.i=a;this.a=document.createElement("canvas");this.b=this.a.getContext("2d");this.width=window.innerWidth;this.height=window.innerHeight;this.h=new G(B,new z(this.width,this.height));this.a.style.zIndex=-1;this.a.style.position="fixed";this.a.style.top="0";this.a.style.left="0";b=b||document.body;b.appendChild(this.a);window.addEventListener("resize",this.c.bind(this),!1);window.addEventListener("orientationchange",this.c.bind(this),!1);this.c()}
function ja(a){a.b.fillStyle=N.BACKGROUND_COLOR;a.b.fillRect(0,0,a.width,a.height)}V.prototype.c=function(){this.width=window.innerWidth;this.height=window.innerHeight;this.a.width=this.width;this.a.height=this.height;this.h=new G(B,new z(this.width,this.height));W(this)};
function W(a){ja(a);T(a.i,function(b){var c;if(c=b.c){var d=b.a;c=b.size;var e=b.color;switch(b.shape){case "square":b=d.f;var d=d.g,f=c/2;a.b.fillStyle=e;a.b.fillRect(b-f,d-f,c,c);break;case "circle":b=d.f,d=d.g,a.b.fillStyle=e,a.b.beginPath(),a.b.arc(b,d,c/2,0,2*Math.PI,!1),a.b.fill()}c=void 0}return c})};var U=1E3/60;function X(a,b){this.s=a;this.h=b;this.u=this.b=new z(a.width/2,a.height/2);this.a=!1;this.i=this.c=this.l=0;ka(this)}
X.prototype.start=function(){var a=this;if(!this.a){this.a=!0;S("RUNNING",this.a);this.l=O();var b=function(c){var d=c-a.l;a.c+=d;a.i+=d;a.l=c;c=C(D(a.b,C(a.u,-1)),1/d);a.u=a.b;for(S("CURSOR_VELOCITY",c.toString());a.c>=U;)ia(a.h,a.s.h),a.c-=U;for(;a.i>=N.SPAWN_INTERVAL;){if(a.h.size<N.MAX_STAR_COUNT){var d=Y(a.b,c),e=a.h;e.a[1].push(d);++e.size}a.i-=N.SPAWN_INTERVAL}W(a.s);a.a&&requestAnimationFrame(b)};requestAnimationFrame(b)}};
function Y(a,b){var c=da(),d;d=N.MAX_ACCELERATION;d=F(new z(Math.random()*d*2-d,Math.random()*d*2-d),d);if(b&&!A(b)){var e=C(b,1/E(b)),f=(Math.floor(180*Math.random())-90)*Math.PI/180;d=C(new z(e.f*Math.cos(f)-e.g*Math.sin(f),e.f*Math.sin(f)+e.g*Math.cos(f)),E(d))}return new P(a,d,c,b)}
function ka(a){document.addEventListener("mousemove",function(b){a.b=new z(b.clientX||b.pageX,b.clientY||b.pageY)});document.addEventListener("touchstart",function(b){b=v(b.changedTouches);for(var c=b.next();!c.done;c=b.next())c=c.value,a.b=new z(c.pageX,c.pageY)});document.addEventListener("keypress",function(b){switch(b.keyCode){case 32:a.a?(a.a=!1,S("RUNNING",a.a)):a.start();break;case 102:for(b=0;a.h.size<N.MAX_STAR_COUNT;){var c=a.h,d=Y(a.b);c.a[1].push(d);++c.size;++b}}});window.addEventListener("focus",
function(){N.TOGGLE_ON_FOCUS_BLUR&&a.start()});window.addEventListener("blur",function(){N.TOGGLE_ON_FOCUS_BLUR&&(a.a=!1,S("RUNNING",a.a))})};function la(a){function b(a,b){return function(d){var e=b||0;c.a=d===a?c.a+1:e}}var c=this;this.c=a;this.a=0;this.b=[b(38),b(38,1),b(40),b(40),b(37),b(39),b(37),b(39),b(66),b(65),b(13)];ma(this)}function ma(a){document.documentElement.addEventListener("keydown",function(b){a.b[a.a](b.keyCode);a.a===a.b.length&&(a.c(),a.a=0)})};function Z(a){var b=this;a=a||{};this.a=new ga;this.h=new V(this.a);this.c=new X(this.h,this.a);this.b=new ca;this.b.a.appendChild(R.a);new la(function(){b.b.a.style.display="unset"});Object.assign(N,a)}Z.prototype.start=function(){this.c.start()};window.Stars=Z;})();
